:root{
  --bg0:#070813;
  --bg1:#0b1022;
  --warm:#ffdfb0;
  --ice:#bfe1ff;
  --card:rgba(255,255,255,.08);
  --line:rgba(255,255,255,.14);
  --shadow:rgba(0,0,0,.55);
}

*{box-sizing:border-box}
html,body{height:100%; margin:0; background:var(--bg0); color:#fff; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial}
#app{position:fixed; inset:0; overflow:hidden}

.stage{position:relative; width:100%; height:100%}
.scene{
  position:absolute; inset:0;
  display:none;
  align-items:center; justify-content:center;
}
.scene.on{display:flex}

.centerText{
  text-align:center;
  padding:24px;
  animation: fadeUp 900ms ease both;
}
.title{font-size:42px; letter-spacing:.5px; font-weight:650}
.sub{opacity:.78; margin-top:10px; line-height:1.6}
.primary{
  margin-top:16px;
  padding:12px 16px;
  border-radius:12px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.10);
  color:#fff; cursor:pointer;
}

.vignette{
  position:absolute; inset:-20%;
  background: radial-gradient(circle at center, rgba(0,0,0,0) 45%, rgba(0,0,0,.55) 78%, rgba(0,0,0,.78) 100%);
  pointer-events:none;
}
.grain{
  position:absolute; inset:0;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='120' height='120' filter='url(%23n)' opacity='.25'/%3E%3C/svg%3E");
  opacity:.08;
  mix-blend-mode:overlay;
  pointer-events:none;
}

@keyframes fadeUp{
  from{opacity:0; transform:translateY(18px) scale(.99)}
  to{opacity:1; transform:translateY(0) scale(1)}
}

/* ---------------- Snow (pure CSS) ---------------- */
.snow{
  position:absolute; inset:-200px 0 0 0;
  pointer-events:none;
  background-image:
    radial-gradient(2px 2px at 20px 30px, rgba(255,255,255,.9) 50%, transparent 52%),
    radial-gradient(1px 1px at 90px 60px, rgba(255,255,255,.8) 50%, transparent 52%),
    radial-gradient(2px 2px at 140px 90px, rgba(255,255,255,.7) 50%, transparent 52%),
    radial-gradient(1px 1px at 60px 120px, rgba(255,255,255,.75) 50%, transparent 52%),
    radial-gradient(2px 2px at 180px 150px, rgba(255,255,255,.85) 50%, transparent 52%);
  background-size: 200px 200px;
  animation: snowFall 10s linear infinite;
  opacity:.55;
}
.snow--b{animation-duration:14s; opacity:.40; filter:blur(.2px)}
.snow--c{animation-duration:18s; opacity:.28; filter:blur(.5px)}
@keyframes snowFall{
  from{transform:translateY(-200px)}
  to{transform:translateY(1200px)}
}

/* ---------------- Outside Scene ---------------- */
.outsideWrap{
  position:relative;
  width:min(980px, 92vw);
  height:min(560px, 82vh);
  border-radius:26px;
  background:
    radial-gradient(900px 450px at 20% 15%, rgba(191,225,255,.18), transparent 55%),
    radial-gradient(600px 320px at 85% 35%, rgba(255,223,176,.08), transparent 60%),
    linear-gradient(180deg, var(--bg1), #05060b);
  border:1px solid rgba(255,255,255,.10);
  box-shadow: 0 30px 80px rgba(0,0,0,.55);
  overflow:hidden;
  transform:scale(.985);
  animation: outsideIn 900ms ease both;
}
@keyframes outsideIn{
  from{opacity:0; transform:translateY(16px) scale(.98)}
  to{opacity:1; transform:translateY(0) scale(1)}
}
.moonGlow{
  position:absolute; left:60px; top:42px;
  width:160px; height:160px; border-radius:50%;
  background: radial-gradient(circle, rgba(255,255,255,.16), rgba(191,225,255,.10) 45%, transparent 70%);
  filter: blur(1px);
}

.caption{
  position:absolute; left:22px; bottom:18px;
  background: rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.10);
  padding:12px 14px;
  border-radius:16px;
  backdrop-filter: blur(10px);
}
.capTitle{font-weight:650}
.capSub{opacity:.78; font-size:13px; margin-top:4px}

/* House */
.house{
  position:absolute; left:50%; top:54%;
  transform:translate(-50%,-50%);
  width:360px; height:300px;
}
.base{
  position:absolute; left:50%; bottom:0;
  transform:translateX(-50%);
  width:320px; height:190px;
  background: linear-gradient(180deg, #7a4b31, #5b351f);
  border-radius:18px;
  box-shadow: 0 18px 40px rgba(0,0,0,.35);
  border:1px solid rgba(255,255,255,.08);
}
.roof{
  position:absolute; left:50%; bottom:170px;
  transform:translateX(-50%);
  width:0; height:0;
  border-left:190px solid transparent;
  border-right:190px solid transparent;
  border-bottom:120px solid #4b2320;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,.35));
}
.chimney{
  position:absolute; left:62%; bottom:230px;
  width:44px; height:80px;
  background: linear-gradient(180deg, #3b1b18, #2a1211);
  border-radius:10px;
  border:1px solid rgba(255,255,255,.08);
}
.smoke{
  position:absolute; left:50%; top:-8px;
  width:18px; height:18px;
  border-radius:50%;
  background: rgba(255,255,255,.20);
  transform:translateX(-50%);
  filter: blur(.2px);
  animation: smoke 2.6s ease-in-out infinite;
}
.smoke2{animation-delay:.6s; opacity:.16}
.smoke3{animation-delay:1.2s; opacity:.12}
@keyframes smoke{
  0%{transform:translate(-50%,0) scale(.9); opacity:.20}
  60%{transform:translate(-60%,-36px) scale(1.35); opacity:.10}
  100%{transform:translate(-45%,-60px) scale(1.55); opacity:0}
}

/* Lights */
.lights{
  position:absolute; left:50%; bottom:164px;
  transform:translateX(-50%);
  width:340px; height:40px;
}
.bulb{
  position:absolute;
  width:12px; height:12px; border-radius:50%;
  box-shadow: 0 0 20px rgba(255,255,255,.35);
  animation: twinkle 1.6s ease-in-out infinite;
}
.b1{left:22px; top:10px; background:#ffd37a}
.b2{left:58px; top:14px; background:#7ad9ff; animation-delay:.2s}
.b3{left:98px; top:8px; background:#ff7ad1; animation-delay:.4s}
.b4{left:136px; top:14px; background:#a6ff7a; animation-delay:.1s}
.b5{left:172px; top:8px; background:#ffd37a; animation-delay:.35s}
.b6{left:206px; top:14px; background:#7ad9ff; animation-delay:.55s}
.b7{left:242px; top:8px; background:#ff7ad1; animation-delay:.75s}
.b8{left:276px; top:14px; background:#a6ff7a; animation-delay:.95s}
.b9{left:312px; top:10px; background:#ffd37a; animation-delay:1.15s}
@keyframes twinkle{
  0%,100%{transform:scale(1); filter:brightness(1)}
  50%{transform:scale(1.25); filter:brightness(1.5)}
}

/* Door */
.door{
  position:absolute; left:50%; bottom:26px;
  transform:translateX(-50%);
  width:78px; height:112px;
  background: linear-gradient(180deg, #2a1a1a, #1a1010);
  border-radius:12px;
  border:1px solid rgba(255,255,255,.10);
  cursor:pointer;
  box-shadow: 0 12px 30px rgba(0,0,0,.35);
}
.doorKnob{
  position:absolute; right:12px; top:56px;
  width:10px; height:10px; border-radius:50%;
  background: rgba(255,223,176,.9);
  box-shadow: 0 0 18px rgba(255,223,176,.55);
}
.doorHint{
  position:absolute; left:50%; top:-28px;
  transform:translateX(-50%);
  font-size:12px; opacity:.75;
  padding:6px 10px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
  border-radius:999px;
  backdrop-filter: blur(10px);
}

/* Tree outside */
.tree{
  position:absolute; left:15%; top:58%;
  width:220px; height:360px;
  transform:translate(-50%,-50%);
}
.t1,.t2,.t3{
  position:absolute; left:50%;
  transform:translateX(-50%);
  width:0; height:0;
  border-left:95px solid transparent;
  border-right:95px solid transparent;
  border-bottom:120px solid #1f8a4b;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,.25));
}
.t1{top:50px}
.t2{top:105px; border-left-width:110px; border-right-width:110px; border-bottom-width:140px; opacity:.95}
.t3{top:165px; border-left-width:130px; border-right-width:130px; border-bottom-width:160px; opacity:.90}
.star{
  position:absolute; left:50%; top:20px;
  transform:translateX(-50%) rotate(10deg);
  width:28px; height:28px;
  background: radial-gradient(circle, rgba(255,223,176,1), rgba(255,223,176,.2) 70%, transparent 72%);
  clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 67% 57%, 79% 91%, 50% 70%, 21% 91%, 33% 57%, 2% 35%, 39% 35%);
  box-shadow: 0 0 30px rgba(255,223,176,.55);
}

/* ---------------- Inside Scene ---------------- */
.insideWrap{
  position:relative;
  width:min(980px, 92vw);
  height:min(560px, 82vh);
  border-radius:26px;
  background:
    radial-gradient(700px 360px at 75% 22%, rgba(255,223,176,.16), transparent 60%),
    radial-gradient(700px 420px at 25% 60%, rgba(191,225,255,.10), transparent 60%),
    linear-gradient(180deg, #101019, #07070d);
  border:1px solid rgba(255,255,255,.10);
  box-shadow: 0 30px 80px rgba(0,0,0,.55);
  overflow:hidden;
  transform:scale(.985);
  animation: outsideIn 900ms ease both;
}
.wallGlow{
  position:absolute; inset:0;
  background:
    radial-gradient(500px 260px at 45% 40%, rgba(255,223,176,.10), transparent 60%),
    radial-gradient(700px 420px at 70% 65%, rgba(255,255,255,.06), transparent 65%);
  pointer-events:none;
}

/* Fireplace */
.fireplace{
  position:absolute; left:14%; bottom:12%;
  width:240px; height:220px;
  background: rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.10);
  border-radius:22px;
  box-shadow: 0 18px 40px rgba(0,0,0,.30);
}
.mantle{
  position:absolute; left:18px; top:20px;
  width:calc(100% - 36px); height:16px;
  background: rgba(255,255,255,.08);
  border-radius:10px;
}
.fire{
  position:absolute; left:50%; bottom:22px;
  transform:translateX(-50%);
  width:130px; height:120px;
  background:
    radial-gradient(circle at 50% 70%, rgba(255,90,40,.65), transparent 60%),
    radial-gradient(circle at 40% 60%, rgba(255,190,60,.70), transparent 65%),
    radial-gradient(circle at 60% 65%, rgba(255,120,50,.55), transparent 62%);
  filter: blur(.3px);
  border-radius: 18px;
  animation: fire 1.2s ease-in-out infinite;
}
@keyframes fire{
  0%,100%{transform:translateX(-50%) scale(1)}
  50%{transform:translateX(-50%) scale(1.06)}
}
.stocking{
  position:absolute; top:44px; width:34px; height:56px;
  background: rgba(255,255,255,.10);
  border:1px solid rgba(255,255,255,.12);
  border-radius:10px 10px 14px 14px;
}
.s1{left:64px}
.s2{left:124px}

/* Inside Tree */
.insideTree{
  position:absolute; right:14%; bottom:10%;
  width:290px; height:420px;
}
.it1,.it2,.it3{
  position:absolute; left:50%;
  transform:translateX(-50%);
  width:0; height:0;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,.25));
}
.it1{top:60px; border-left:110px solid transparent; border-right:110px solid transparent; border-bottom:150px solid #1f8a4b}
.it2{top:130px; border-left:130px solid transparent; border-right:130px solid transparent; border-bottom:170px solid #1d7f45}
.it3{top:210px; border-left:155px solid transparent; border-right:155px solid transparent; border-bottom:190px solid #1a743f}
.itStar{
  position:absolute; left:50%; top:32px;
  transform:translateX(-50%) rotate(10deg);
  width:34px; height:34px;
  background: radial-gradient(circle, rgba(255,223,176,1), rgba(255,223,176,.2) 70%, transparent 72%);
  clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 67% 57%, 79% 91%, 50% 70%, 21% 91%, 33% 57%, 2% 35%, 39% 35%);
  box-shadow: 0 0 36px rgba(255,223,176,.55);
}
.itBalls{
  position:absolute; left:50%; top:160px;
  transform:translateX(-50%);
  width:260px; height:200px;
}
.itBalls span{
  position:absolute; width:12px; height:12px; border-radius:50%;
  background:#ffd37a; box-shadow: 0 0 18px rgba(255,255,255,.25);
  animation: twinkle 1.8s ease-in-out infinite;
}
.itBalls span:nth-child(1){left:38px; top:26px; background:#ff7ad1}
.itBalls span:nth-child(2){left:192px; top:44px; background:#7ad9ff; animation-delay:.2s}
.itBalls span:nth-child(3){left:78px; top:96px; background:#a6ff7a; animation-delay:.4s}
.itBalls span:nth-child(4){left:174px; top:120px; background:#ffd37a; animation-delay:.6s}
.itBalls span:nth-child(5){left:120px; top:60px; background:#ff7ad1; animation-delay:.8s}

/* Santa */
.santa{
  position:absolute; left:18%; top:-30%;
  width:120px; height:160px;
  transform:translate(-50%,0);
  opacity:0;
}
.santa.show{
  opacity:1;
  animation: santaDown 2.0s cubic-bezier(.2,.8,.2,1) forwards;
}
@keyframes santaDown{
  0%{transform:translate(-50%,-220px) rotate(-3deg)}
  65%{transform:translate(-50%,120px) rotate(2deg)}
  100%{transform:translate(-50%,210px) rotate(0deg)}
}
.santaHat{
  position:absolute; left:34px; top:4px;
  width:58px; height:38px;
  background:#c71c24;
  border-radius:18px 18px 12px 12px;
  transform:rotate(-12deg);
  box-shadow: 0 10px 18px rgba(0,0,0,.25);
}
.santaHead{
  position:absolute; left:36px; top:34px;
  width:54px; height:54px;
  background: rgba(255,225,200,.95);
  border-radius:50%;
  border:1px solid rgba(255,255,255,.18);
}
.santaBody{
  position:absolute; left:22px; top:78px;
  width:82px; height:70px;
  background:#b80f18;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.12);
}
.santaBag{
  position:absolute; left:78px; top:84px;
  width:52px; height:60px;
  background: rgba(170,120,80,.9);
  border-radius:16px;
  transform:rotate(12deg);
  border:1px solid rgba(255,255,255,.12);
}

/* Gifts */
.gifts{
  position:absolute;
  left:42%; bottom:16%;
  display:flex; gap:14px;
  transform:translateX(-50%);
  opacity:0;
}
.gifts.show{
  opacity:1;
  animation: fadeUp 900ms ease both;
}
.gift{
  width:54px; height:54px;
  border-radius:12px;
  background: rgba(255,255,255,.10);
  border:1px solid rgba(255,255,255,.14);
  box-shadow: 0 16px 30px rgba(0,0,0,.25);
  position:relative;
}
.gift::before{
  content:"";
  position:absolute; left:50%; top:0; bottom:0;
  width:10px; transform:translateX(-50%);
  background: rgba(255,223,176,.35);
  border-radius:10px;
}
.gift::after{
  content:"";
  position:absolute; left:0; right:0; top:50%;
  height:10px; transform:translateY(-50%);
  background: rgba(255,223,176,.35);
  border-radius:10px;
}
.g1{background: rgba(255,122,209,.14)}
.g2{background: rgba(122,217,255,.14)}
.g3{background: rgba(166,255,122,.14)}

/* HUD */
.insideHud{
  position:absolute; left:16px; top:16px;
  width:min(380px, 92%);
  background: rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.10);
  border-radius:18px;
  padding:14px 14px 12px;
  backdrop-filter: blur(12px);
}
.hudTitle{font-weight:720; letter-spacing:.2px}
.hudSub{opacity:.78; font-size:13px; margin-top:6px; line-height:1.5}
.hudActions{display:flex; gap:10px; margin-top:12px; flex-wrap:wrap}
button{
  padding:10px 12px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.10);
  color:#fff;
  cursor:pointer;
}
button.ghost{background: rgba(255,255,255,.06)}
button:disabled{opacity:.5; cursor:not-allowed}

/* Modal letter */
.modal{
  position:absolute; inset:0;
  display:none; align-items:center; justify-content:center;
  background: rgba(0,0,0,.55);
  padding:18px;
}
.modal.on{display:flex}
.modalCard{
  width:min(760px, 96vw);
  max-height:82vh;
  overflow:auto;
  background: rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.14);
  border-radius:22px;
  padding:18px;
  backdrop-filter: blur(14px);
  box-shadow: 0 30px 80px rgba(0,0,0,.55);
  animation: fadeUp 700ms ease both;
}
.closeBtn{
  float:right;
  width:38px; height:38px;
  border-radius:12px;
  font-size:22px;
  line-height:0;
}
.modalTitle{font-size:20px; font-weight:750; margin-top:8px}
.modalBody{margin-top:10px; opacity:.92; line-height:1.8}
.modalFooter{margin-top:14px; opacity:.80}

.photos{
  margin-top:14px;
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap:10px;
}
.photos img{
  width:100%;
  aspect-ratio: 3/4;
  object-fit: cover;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.16);
  box-shadow: 0 16px 30px rgba(0,0,0,.20);
}

/* Scene transition zoom */
.zoomOut{
  animation: zoomOut 700ms ease both;
}
@keyframes zoomOut{
  from{transform:translateY(0) scale(1); opacity:1}
  to{transform:translateY(10px) scale(.985); opacity:0}
}
